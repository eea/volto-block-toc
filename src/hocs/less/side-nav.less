.eea-side-menu {
  grid-area: nav;

  &:not(.mobile, .tablet) {
    max-width: 315px;
  }

  &.mobile {
    z-index: 3;
    width: 100%;
  }

  &.mobile,
  &.tablet {
    position: absolute;
    z-index: 1;
    width: -webkit-fill-available;
    width: -moz-available;
  }

  &.mobile.fixed,
  &.tablet.fixed {
    position: fixed;
    top: 0;
  }
}

// hide sidebar on toolbar content the Page teacher
#toolbar:has(.toolbar-content.show) + #main .eea-side-menu.mobile {
  display: none;
}

.has-toolbar-collapsed .eea-side-menu.mobile.fixed {
  top: 20px;
}

.has-toolbar .eea-side-menu.mobile.fixed {
  top: 100px;
}

#page-edit,
#page-add {
  .eea-side-menu {
    position: unset;
    right: unset;
    width: 100% !important;
  }
}

// hide summary marker from eea-side-menu as we use  our own summary icon
.eea-side-menu summary::-webkit-details-marker,
.eea-side-menu summary::marker {
  display: none;
}

@media screen and (max-width: 767px) {
  // better centering of the inpage navigation icon
  #inpage-navigation > div > i.icon,
  #inpage-navigation i.icons {
    line-height: 2rem;
  }
}
@media screen and (min-width: 768px) and (max-width: 991px) {
  .view-viewview.light-header .main.bar {
    margin-bottom: -115px;
  }
  .has-side-nav #view {
    grid-template-areas:
      'nav'
      'content';
  }

  .eea-side-menu {
    max-width: 100%;
    margin: 0 auto;
  }
}

@media screen and (min-width: 992px) {
  #page-header:empty + .breadcrumbs + .content-area {
    padding-top: 0 !important;
    margin-top: 0 !important;
  }

  #page-document .eea-side-menu {
    display: none;
  }

  #page-document:has(.banner > .image) .eea-side-menu + * {
    margin-top: 300px;
  }

  #page-document:has(.eea-side-menu) .eea.banner {
    position: absolute;
    left: 0;
  }

  #page-document .eea-side-menu:not(:empty) + * {
    margin-top: 200px;
  }

  .has-side-nav {
    #view {
      display: grid;
      max-width: 1300px;
      margin: 0 auto;
      gap: 5rem;
      grid-template-areas: 'content nav';
      grid-template-columns: 4fr 1fr;
      grid-template-rows: auto 1fr;

      #page-document {
        width: auto !important;
        min-width: 100%;
        max-width: 100% !important;
        grid-area: content;
      }

      .ui.grid {
        max-width: 900px;
      }

      > .eea-side-menu {
        position: sticky;
        top: 0;
        right: 1.5rem;
        min-width: 315px;
        height: fit-content;
        margin-bottom: 30px;
        grid-area: nav;
      }
    }
  }
}

@media only screen and (min-width: 768px) and (max-width: 1365px) {
  .view-viewview.light-header .ui.container {
    padding: 0 1.25rem;
  }
}
